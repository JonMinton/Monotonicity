RequiredPackages(
c(
"MASS",
"xlsx",
"ggplot2",
"reshape",
"gdata",
"devtools",
"plyr"
)
)
#######################################################################################################
######################### FUNCTIONS ###################################################################
#######################################################################################################
source("scripts/functions.r")
#######################################################################################################
######################### GLOBAL VARIABLES ############################################################
#######################################################################################################
# Global variables will be ALL UPPERCASE to distinguish them from other variables
N_PSA <- 100000
#######################################################################################################
######################### MAIN SECTION ############################################################
#######################################################################################################
source("Scripts/manage_data.r")
source("scripts/read_data.r")
source("scripts/make_sample_data.r")
head(output)
str(output)
summary_data
tmp <- make_aivm_cov_2d(summary_data$u1$mu, summary_data$u1$se, summary_data$u2$mu, summary_data$u2$se, colnames_=names(summary_data), n_psa_=N_PSA)
head(tmp)
names(tmp)
# New main script for Monotonicity analysis generation
# 29/5/2014
rm (list=ls())
# Load prerequisites
source("scripts/LoadPackages.R")
RequiredPackages(
c(
"MASS",
"xlsx",
"ggplot2",
"reshape",
"gdata",
"devtools",
"plyr"
)
)
#######################################################################################################
######################### FUNCTIONS ###################################################################
#######################################################################################################
source("scripts/functions.r")
#######################################################################################################
######################### GLOBAL VARIABLES ############################################################
#######################################################################################################
# Global variables will be ALL UPPERCASE to distinguish them from other variables
N_PSA <- 100000
#######################################################################################################
######################### MAIN SECTION ############################################################
#######################################################################################################
source("Scripts/manage_data.r")
source("scripts/read_data.r")
source("scripts/make_sample_data.r")
# New main script for Monotonicity analysis generation
# 29/5/2014
rm (list=ls())
# Load prerequisites
source("scripts/LoadPackages.R")
RequiredPackages(
c(
"MASS",
"xlsx",
"ggplot2",
"reshape",
"gdata",
"devtools",
"plyr"
)
)
#######################################################################################################
######################### FUNCTIONS ###################################################################
#######################################################################################################
source("scripts/functions.r")
#######################################################################################################
######################### GLOBAL VARIABLES ############################################################
#######################################################################################################
# Global variables will be ALL UPPERCASE to distinguish them from other variables
N_PSA <- 100000
#######################################################################################################
######################### MAIN SECTION ############################################################
#######################################################################################################
source("Scripts/manage_data.r")
source("scripts/read_data.r")
source("scripts/make_sample_data.r")
formals(make_bcvr_2d)
source("scripts/make_sample_data.r")
# New main script for Monotonicity analysis generation
# 29/5/2014
rm (list=ls())
# Load prerequisites
source("scripts/LoadPackages.R")
RequiredPackages(
c(
"MASS",
"xlsx",
"ggplot2",
"reshape",
"gdata",
"devtools",
"plyr"
)
)
#######################################################################################################
######################### FUNCTIONS ###################################################################
#######################################################################################################
source("scripts/functions.r")
#######################################################################################################
######################### GLOBAL VARIABLES ############################################################
#######################################################################################################
# Global variables will be ALL UPPERCASE to distinguish them from other variables
N_PSA <- 100000
#######################################################################################################
######################### MAIN SECTION ############################################################
#######################################################################################################
source("Scripts/manage_data.r")
source("scripts/read_data.r")
source("scripts/make_sample_data.r")
head(data_wide)
head(data_long)
print("Saving created data")
save(data_long, data_wide, file="data/robj/samples_2d.rdata")
summaries_mean_sd <- cast(
data_long,
method ~ variable,
function(x) c(mean=mean(x), sd=sd(x))
)
head(summarised_mean_sd)
head(summaries_mean_sd)
tail(data_long)
apropos("sample")
formals(sample.int)
formals(sample)
summaries_quintiles <- cast(
data_long,
method ~ variable,
quantile,
seq(from=0.025, to=0.975, by=0.05)
)
n <- dim(data_long)[1]
sample.int(4, n)
sample.int(n, 4)
data_long[sample.int(n, 50),]
data_long[sample.int(n, 50),]
n <- dim(data_wide)[1]
data_wide[sample.int(n, 50),]
data_wide[sample.int(n, 50),]
tmp <- create_draws(data_summaries, 7, 10)
tmp
tmp <- create_draws(data_summaries, 8, 10)
ymp
tmp
class(tmp)
# New main script for Monotonicity analysis generation
# 29/5/2014
rm (list=ls())
# Load prerequisites
source("scripts/LoadPackages.R")
RequiredPackages(
c(
"MASS",
"xlsx",
"ggplot2",
"reshape",
"gdata",
"devtools",
"plyr"
)
)
source("scripts/functions.r")
N_PSA <- 100000
source("scripts/read_data.r")
source("scripts/make_sample_data.r")
length(methods_block)
names(methods_block)
head(methods_block[[1)]])
head(methods_block[[1]])
head(tmp)
tail(tmp)
head(tmp)
dim(output)
dim(output)
head(methods_block[[i]])
class(methods_block[[1]])
class(methods_block[[2]])
head(tmp)
dim(tmp)
# New main script for Monotonicity analysis generation
# 29/5/2014
rm (list=ls())
# Load prerequisites
source("scripts/LoadPackages.R")
RequiredPackages(
c(
"MASS",
"xlsx",
"ggplot2",
"reshape",
"gdata",
"devtools",
"plyr"
)
)
#######################################################################################################
######################### FUNCTIONS ###################################################################
#######################################################################################################
source("scripts/functions.r")
N_PSA <- 100000
source("scripts/read_data.r")
source("scripts/make_sample_data.r")
# New main script for Monotonicity analysis generation
# 29/5/2014
rm (list=ls())
# Load prerequisites
source("scripts/LoadPackages.R")
RequiredPackages(
c(
"MASS",
"xlsx",
"ggplot2",
"reshape",
"gdata",
"devtools",
"plyr"
)
)
#######################################################################################################
######################### FUNCTIONS ###################################################################
#######################################################################################################
source("scripts/functions.r")
#######################################################################################################
######################### GLOBAL VARIABLES ############################################################
#######################################################################################################
# Global variables will be ALL UPPERCASE to distinguish them from other variables
N_PSA <- 100000
source("scripts/read_data.r")
source("scripts/make_sample_data.r")
head(data_long)
n <- dim(data_long)[1]
data_long[sample.int(50, n),]
data_long[sample.int(n, 50),]
data_long[sample.int(n, 50),]
data_long[sample.int(n, 50),]
data_long[sample.int(n, 50),]
data_wide <- cast(data_long, method + sample  ~ variable)
data_wide <- mutate(data_wide, difference = u1 - u2)
data_long <- melt(data_wide, id=c("method", "sample"))
print("made long data")
head(data_long)
head(data_wide)
n <- dim(data_wide)
data_wide[sample.int(n, 50),]
print("Saving created data")
save(data_long, data_wide, file="data/robj/samples_2d.rdata")
summaries_mean_sd <- cast(
data_long,
method ~ variable,
function(x) c(mean=mean(x), sd=sd(x))
)
summaries_mean_sd)
summaries_mean_sd
summaries_quintiles <- cast(
data_long,
method ~ variable,
quantile,
seq(from=0.025, to=0.975, by=0.05)
)
summaries_quintiles
data_long <- make_long(
ipd=data_2d,
summary_data=data_summaries,
n_psa=N_PSA,
methods.labels=c(
"Independent",
"Quantile Matching",
"Replication\n(Upwards)",
"Replication\n(Downwards)",
"Resampling\n(Upwards)",
"Resampling\n(Downwards)",
"AIVM",
"Covariance Fitting\n(Lower Bounded)",
"Covariance Fitting\n(Upper Bounded)",
"Difference\n(Upwards)",
"Difference\n(Downwards)"
)
)
data_wide <- cast(data_long, method + sample  ~ variable)
data_wide <- mutate(data_wide, difference = u1 - u2)
head(data_wide)
data_long <- melt(data_wide, id=c("method", "sample"))
head(data_long)
# New main script for Monotonicity analysis generation
# 29/5/2014
rm (list=ls())
# Load prerequisites
source("scripts/LoadPackages.R")
RequiredPackages(
c(
"MASS",
"xlsx",
"ggplot2",
"reshape",
"gdata",
"devtools",
"plyr"
)
)
#######################################################################################################
######################### FUNCTIONS ###################################################################
#######################################################################################################
source("scripts/functions.r")
#######################################################################################################
######################### GLOBAL VARIABLES ############################################################
#######################################################################################################
# Global variables will be ALL UPPERCASE to distinguish them from other variables
N_PSA <- 100000
#######################################################################################################
######################### MAIN SECTION ############################################################
#######################################################################################################
source("Scripts/manage_data.r")
####
source("scripts/make_summaries_dataframes.r")
summaries_difs
summaries_mean_sd
head(data_wide)
# New main script for Monotonicity analysis generation
# 29/5/2014
rm (list=ls())
# Load prerequisites
source("scripts/LoadPackages.R")
RequiredPackages(
c(
"MASS",
"xlsx",
"ggplot2",
"reshape",
"gdata",
"devtools",
"plyr"
)
)
#######################################################################################################
######################### FUNCTIONS ###################################################################
#######################################################################################################
source("scripts/functions.r")
#######################################################################################################
######################### GLOBAL VARIABLES ############################################################
#######################################################################################################
# Global variables will be ALL UPPERCASE to distinguish them from other variables
N_PSA <- 100000
#######################################################################################################
######################### MAIN SECTION ############################################################
#######################################################################################################
source("Scripts/manage_data.r")
summaries_mean_sd <- cast(
data_long,
method ~ variable,
function(x) c(mean=mean(x), sd=sd(x))
)
summaries_mean_sd
cast(data_long, method ~ variable, length)
head(data_wide)
dlong2 <- melt(data_wide, id.var=c("method", "sample"))
cast(dlong2, method ~ variable)
head(dlong2)
n  <- dim(dlong2)[1]
dlong2[sample.int(n, 50),]
dlong2[sample.int(n, 50),]
dlong2[sample.int(n, 50),]
dlong2[sample.int(n, 50),]
dlong2[sample.int(n, 50),]
dlong2[sample.int(n, 50),]
dlong2[sample.int(n, 50),]
dlong2[sample.int(n, 50),]
dlong2[sample.int(n, 50),]
dlong2[sample.int(n, 50),]
dlong2[sample.int(n, 50),]
dlong2[sample.int(n, 50),]
data_long <- make_long(
ipd=data_2d,
summary_data=data_summaries,
n_psa=N_PSA,
methods.labels=c(
"Independent",
"Quantile Matching",
"Replication\n(Upwards)",
"Replication\n(Downwards)",
"Resampling\n(Upwards)",
"Resampling\n(Downwards)",
"AIVM",
"Covariance Fitting\n(Lower Bounded)",
"Covariance Fitting\n(Upper Bounded)",
"Difference\n(Upwards)",
"Difference\n(Downwards)"
)
)
# New main script for Monotonicity analysis generation
# 29/5/2014
rm (list=ls())
# Load prerequisites
source("scripts/LoadPackages.R")
RequiredPackages(
c(
"MASS",
"xlsx",
"ggplot2",
"reshape",
"gdata",
"devtools",
"plyr"
)
)
#######################################################################################################
######################### FUNCTIONS ###################################################################
#######################################################################################################
source("scripts/functions.r")
#######################################################################################################
######################### GLOBAL VARIABLES ############################################################
#######################################################################################################
# Global variables will be ALL UPPERCASE to distinguish them from other variables
N_PSA <- 100000
#######################################################################################################
######################### MAIN SECTION ############################################################
#######################################################################################################
data_summaries <- summarise_ipd(
data_2d
)
source("scripts/read_data.r")
data_summaries <- summarise_ipd(
data_2d
)
data_long <- make_long(
ipd=data_2d,
summary_data=data_summaries,
n_psa=N_PSA,
methods.labels=c(
"Independent",
"Quantile Matching",
"Replication\n(Upwards)",
"Replication\n(Downwards)",
"Resampling\n(Upwards)",
"Resampling\n(Downwards)",
"AIVM",
"Covariance Fitting\n(Lower Bounded)",
"Covariance Fitting\n(Upper Bounded)",
"Difference\n(Upwards)",
"Difference\n(Downwards)"
)
)
apropos("gc")
?gctorture
?gc
gc()
# New main script for Monotonicity analysis generation
# 29/5/2014
rm (list=ls())
# Load prerequisites
source("scripts/LoadPackages.R")
RequiredPackages(
c(
"MASS",
"xlsx",
"ggplot2",
"reshape",
"gdata",
"devtools",
"plyr"
)
)
#######################################################################################################
######################### FUNCTIONS ###################################################################
#######################################################################################################
source("scripts/functions.r")
#######################################################################################################
######################### GLOBAL VARIABLES ############################################################
#######################################################################################################
# Global variables will be ALL UPPERCASE to distinguish them from other variables
N_PSA <- 100000
#######################################################################################################
######################### MAIN SECTION ############################################################
#######################################################################################################
source("scripts/read_data.r")
data_summaries <- summarise_ipd(
data_2d
)
data_long <- make_long(
ipd=data_2d,
summary_data=data_summaries,
n_psa=N_PSA,
methods.labels=c(
"Independent",
"Quantile Matching",
"Replication\n(Upwards)",
"Replication\n(Downwards)",
"Resampling\n(Upwards)",
"Resampling\n(Downwards)",
"AIVM",
"Covariance Fitting\n(Lower Bounded)",
"Covariance Fitting\n(Upper Bounded)",
"Difference\n(Upwards)",
"Difference\n(Downwards)"
)
)
